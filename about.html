<!-- about.html (About Page) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tomas Dulkys Visuals | About</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>

<body class="about-page">
  <div class="video-overlay">
    <video class="background-video" autoplay muted playsinline>
      <source src="assets/videos/logo_edges6.webm" type="video/webm">
      Your browser does not support the video tag.
    </video>
  </div>

<!-- INTRO VIDEO SECTION -->
  <div class="about-intro-wrapper" id="about-intro-wrapper">
    <video muted loop playsinline id="about-mobile-video" class="mobile-only">
      <source src="assets/videos/cp-mobile.webm" type="video/webm" />
    </video>
    <video muted loop playsinline id="about-desktop-video" class="desktop-only">
      <source src="assets/videos/cp.webm" type="video/webm" />
    </video>
  </div>

 <div class="content fade-in" id="page-content">
  <header id="navbar"></header>
  <main>
    <!-- ABOUT SECTION -->
    <section class="about-section" id="about">
      <div class="about-content">
        <h2 class="title">About</h2>
        <div class="about-decorative-line"></div>
        <p class="description">
          Shaped by a passion for visual storytelling, my practice developed through hands-on experience across digital media, including architectural and interior visualisation, game assets, animation, and interactive projects. I‚Äôve built skills in modelling, texturing, lighting, and design for diverse creative fields. Each project is approached with curiosity and precision, turning ideas into clear and compelling visuals.
        </p>
      </div>
    </section>

    <!-- SKILLS SECTION (inside the same main/content, NOT outside) -->
    <section class="skills" id="skills-section">
      <div class="skills-content">
        <div class="skills-heading-wrapper">
          <h2 class="software-heading">Tools</h2>
          <div class="skills-decorative-line"></div>
        </div>

        <ul id="skills-list">
          <li>
            <span><img src="assets/icons/blender2.png"></span>
            <span><p>Blender 4.5</p></span>
          </li>
          <li>
            <span><img src="assets/icons/max.png"></span>
            <span><p>3D Max</p></span>
          </li>
          <li>
            <span><img src="assets/icons/ps.png"></span>
            <span><p>Photoshop</p></span>
          </li>
          <li>
            <span><img src="assets/icons/xd.png"></span>
            <span><p>Adobe XD</p></span>
          </li>
          <li>
            <span><img src="assets/icons/autocad.png"></span>
            <span><p>AutoCAD</p></span>
          </li>
          <li>
            <span><img src="assets/icons/sketchup.png"></span>
            <span><p>SketchUp</p></span>
          </li>
        </ul>
      </div>
    </section>

    <section class="about-cta" id="about-cta">
      <div class="section-inner">
        <a class="cta-link" href="contact.html">Get in touch ‚Ä∫</a>
      </div>
    </section>

  </main>
</div>


  <!-- Footer -->
  <footer>
    <div id="footer-container"></div>
  </footer>

  <script src="navigation.js"></script>
  <script src="tomasdulkys.js"></script>
  <script>
  gsap.registerPlugin(ScrollTrigger);

  const isMobile = window.matchMedia("(max-width: 768px)").matches;
  const aboutMobileVideo  = document.getElementById("about-mobile-video");
  const aboutDesktopVideo = document.getElementById("about-desktop-video");
  const aboutVideo = isMobile ? aboutMobileVideo : aboutDesktopVideo;
  const aboutWrapper = document.getElementById("about-intro-wrapper");

  // ‚ñ∂Ô∏è Play intro video on a slight delay
  if (aboutVideo) {
    aboutVideo.pause();
    aboutVideo.currentTime = 0;
    setTimeout(() => aboutVideo.play(), 800);

    // Smooth loop after the intro
    aboutVideo.addEventListener("timeupdate", () => {
      if (aboutVideo.duration && aboutVideo.currentTime >= aboutVideo.duration - 0.1) {
        aboutVideo.currentTime = 3.5;
        aboutVideo.play();
      }
    });
  }

  /* ============================================================
     üì± MOBILE BEHAVIOUR ONLY
  ============================================================ */
  if (isMobile) {

  // 1) VIDEO: full-screen ‚Üí shrink to SQUARE near the top, stays FIXED
  gsap.to(aboutWrapper, {
    width: "75vw",
    height: "75vw",          // square
    borderRadius: "12px",
    marginTop: "3vh",
    marginLeft: "11vw",
    ease: "none",            // smoother scroll-linked motion
    scrollTrigger: {
      trigger: ".about-section",
      start: "top 100%",
      end: "top 40%",
      scrub: 1               // slightly softer follow
    }
  });

  // 2) ABOUT fade IN (unchanged)
  gsap.fromTo(
    ".about-content",
    { opacity: 0, y: 40 },
    {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".about-section",
        start: "top 85%",
        toggleActions: "play none none reverse"
      }
    }
  );

  // 3) SKILLS fade IN (only in, never out)
  gsap.fromTo(
    ".skills-content",
    { opacity: 0, y: 40 },
    {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: "power2.out",
      scrollTrigger: {
        trigger: "#skills-section",
        start: "top 85%",
        toggleActions: "play none none reverse"
      }
    }
  );

  // 4) ABOUT fade OUT ‚Äì AFTER it's fully visible and user scrolls more
  gsap.to(".about-section", {
    opacity: 0,
    ease: "none",            // smoother scroll-based fade
    scrollTrigger: {
      trigger: ".about-section",
      start: "top 20%",
      end:   "top 10%",
      scrub: 1
    }
  });

  // 5) SKILLS PIN when close to the video ‚Äì no fade out
  ScrollTrigger.create({
    trigger: ".skills",
    start: "top 50%",
    endTrigger: "footer",
    end: "top bottom",
    pin: true,
    pinSpacing: false,
    anticipatePin: 1        // small smoothing at pin moment
  });

}
 else {
  /* ============================================================
     üñ• DESKTOP BEHAVIOUR (UNCHANGED ‚Äì YOU LIKE THIS)
  ============================================================ */

    // 1Ô∏è‚É£ Video shrinks left & About fades IN
    const aboutTL = gsap.timeline({
      scrollTrigger: {
        trigger: ".about-section",
        start: "top 90%",
        end: "top 30%",
        scrub: 0.5
      }
    });

    aboutTL
      .to(
        aboutWrapper,
        {
          width: "45vw",
          height: "80vh",
          marginLeft: "5vw",
          marginTop: "10vh",
          marginBottom: "10vh",
          borderRadius: "0.625rem",
          ease: "power2.inOut"
        },
        0
      )
      .fromTo(
        ".about-content",
        { opacity: 0, y: 60 },
        { opacity: 1, y: 0, ease: "power2.out" },
        "<"
      )
      .fromTo(
        ".about-content .title",
        { opacity: 0, y: 20 },
        { opacity: 1, y: 0, duration: 0.7, ease: "power2.out" },
        ">0.1"
      )
      .fromTo(
        ".about-decorative-line",
        { opacity: 0, width: 0 },
        { opacity: 1, width: "30px", duration: 0.5, ease: "power2.out" },
        "-=0.3"
      )
      .fromTo(
        ".about-content .description",
        { opacity: 0, y: 20 },
        { opacity: 1, y: 0, duration: 0.8, ease: "power2.out" },
        ">0.1"
      );

    // 2Ô∏è‚É£ DESKTOP ABOUT fade out (good now ‚Äì don't touch)
    gsap.to(".about-section", {
      opacity: 0,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".about-section",
        start: "top top",
        end:   "top -25%",
        scrub: 0.7
      }
    });

    // 3Ô∏è‚É£ SKILLS fade IN on the right
    gsap.fromTo(
      ".skills-content",
      { opacity: 0, y: 50 },
      {
        opacity: 1,
        y: 0,
        duration: 1,
        ease: "power2.out",
        scrollTrigger: {
          trigger: "#skills-section",
          start: "top 75%",
          toggleActions: "play none none reverse"
        }
      }
    );

    const skillsTL = gsap.timeline({
      scrollTrigger: {
        trigger: "#skills-section",
        start: "top 75%",
        toggleActions: "play none none reverse"
      }
    });

    skillsTL
      .fromTo(
        ".software-heading",
        { opacity: 0, y: 20 },
        { opacity: 1, y: 0, duration: 0.7, ease: "power2.out" },
        0
      )
      .fromTo(
        ".skills-decorative-line",
        { opacity: 0, width: 0 },
        { opacity: 1, width: "30px", duration: 0.5, ease: "power2.out" },
        "-=0.3"
      )
      .fromTo(
        "#skills-list li",
        { opacity: 0, y: 15 },
        {
          opacity: 1,
          y: 0,
          duration: 0.6,
          ease: "power2.out",
          stagger: 0.08
        },
        ">0.1"
      );

    // 4Ô∏è‚É£ Video fades a bit while scrolling through SKILLS
    gsap.to(aboutWrapper, {
      opacity: 0.3,
      ease: "power2.out",
      scrollTrigger: {
        trigger: "#skills-section",
        start: "center center",
        end:   "bottom top",
        scrub: 0.5
      }
    });

    // 5Ô∏è‚É£ Desktop: make video scroll together with SKILLS + FOOTER
    function makeVideoScroll() {
      const scrollY = window.scrollY || window.pageYOffset;
      aboutWrapper.style.position = "absolute";
      aboutWrapper.style.top = scrollY + "px";
    }

    function makeVideoFixed() {
      aboutWrapper.style.position = "fixed";
      aboutWrapper.style.top = "0px";
    }

    ScrollTrigger.create({
      trigger: "#skills-section",
      start: "center center",
      onEnter: makeVideoScroll,
      onLeaveBack: makeVideoFixed
    });
  }

  // Recalculate once layout is settled
  setTimeout(() => {
    ScrollTrigger.refresh();
  }, 400);
</script>




</body>
</html>